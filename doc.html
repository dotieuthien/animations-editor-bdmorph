<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Animations editor - User guide </title>

        <link rel="stylesheet" href="stylesheets/styles.css">
        <link rel="stylesheet" href="stylesheets/pygment_trac.css">
        <script src="javascripts/scale.fix.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    <body>
    <div class="wrapper">
        <header>
            <h1><a href="index.html">As Killing as possible deformations with<br/> bounded distoration animations</a></h1>
            <p class="view"><a href="https://github.com/maximlevitsky/animations-editor-bdmorph">View the Project on GitHub 
            <small>maximlevitsky/animations-editor-bdmorph</small></a></p>
            <ul>
			  <li><a href="https://github.com/maximlevitsky/animations-editor-bdmorph/zipball/master">Download <strong>Source</strong></a></li>
			  <li><a href="https://github.com/maximlevitsky/animations-editor-bdmorph/releases">Download <strong>Latest release</strong></a></li>
			  <li><a href="https://github.com/maximlevitsky/animations-editor-bdmorph">View On <strong>GitHub</strong></a></li>
            </ul>
        </header>

        <section>

            <h1> Getting started </h1>

            You start by creating a new video project from some form of an existing data.<br/>
            It can be either an existing planar mesh (in usual OBJ format) or a picture.<br/>
            in later case you will be be asked to draw the outline of the subject you want to animate using the picture as reference. <br/>
            Currently only one subject is supported, but in future versions you could use an picture that has more that one subject<br/><br/>

            <img src="tutorial/pic1.png" width="50%"/>
            <br/>

            Its also possible to create a new outline from the scratch by doing File->Create model <br/></br>


            <h1>Outline Editor</h1></br>

            The editor is pretty basic so far, but good enough for the task. </br>

            <ol>
            <li>
                To start, left click on a place where you want to put the first vertex.
            </li>

            <li>
                Everytime you click again, a new edge will form, from the selected vertex to a new vertex at point of the click.
            </li>

            <li>
                The selected vertex (green) can be changed by clicking another vertex and not moving the mouse.
            </li>

            <li>
                Clicking and dragging an vertex moves it and doesn't change the selection.
            </li>

            <li>
                The outline can be loaded from .poly files by clicking 'Import' and saved to .poly file using 'Save'
            </li>

            <li>
                To create an mesh with 'holes' in it, place an standalone vertex inside each hole
            </li>

            <br/><br/>

            <video width="70%" controls>
            <source src="tutorial/tut1.mp4" type="video/mp4"/>
            </video> <br/>


            The <i>Create Mesh button</i> invokes code from <a href="http://www.cs.cmu.edu/~quake/triangle.html">Triangle</a>, 
            a library that creates De-Launchy triangiliation of the polygon you had drawn.<br/>
            You can use <i>Mesh Density </i> button to control the density of the resulting mesh.<br/>
            Default density is OK in most cases, and high density doesn't contribute to quality, but rather slows things down.<br/>
            It included mostly as a streess tesing measure.
            <br/><br/>

            <h1> Keyframe editor </h1> </br>

            Here you can apply deformations to the mesh in very similiar way as in the original KVF project.<br/>
            To do so, you pin the vertices which you want rougly not to move and then drag the ones that you think will give you
                 the right deformation<br/><br/>

            <ol>
            <li>
            Adding/removing pins (pinning) is done either when the <i>Pin mode</i> is selected or when you hold the <i>Shift</i> button while clicking on an vertex.<br/>
            A pin is removed by clicking on it.
            </li>

            <li>
            <i>Control points weight</i> allows you to tweak the KVF algorithm to give more or less weight to the pin points<br/>
            Low values cause global movements, while high values cause distorations.<br/>
            </li>

            <li>
            <i>Reset Control Points</i> removes all the pins.
            </li>

            <li>
            <i>Reset </i> restores the keyframe back to its creation point.<br/>
                <i>Undo/Redo</i> do their usual thing.
            </li>

            <li>
            <i>Hightlight selected vertex</i> is semi-debug feature to show what face and what vertex is under the mouse.<br/>
            Both on the screen and in the statusbar.
            </li>

            <li>
            Mouse wheel zooms, and dragging with right button moves the model on the screen (but model remains the same internally).
            </li>

            </ol>

            <video width="70%" controls>
            <source src="tutorial/tut2.mp4" type="video/mp4"/>
            </video> <br/><br/>


            <h1>Animation Editor</h1>
            Here you add/remove the keyframes.<br/>


            <ol>

            <li>
                'Big plus' adds new keyframe and initializes it to be exactly like the last one</br>
                If you want to add an keyframe in the middle, you can right click an keyframe and choose <i>Clone Keyframe</i>
            </li>


            <li>
                Delting an keyframe is also done with right click menu. You can't delete the last keyframe.
            </li>

            <li>
                Each keyframe has a time asscociated with it, which is the relative moment from start of the video, at which
                it will be displayed.<br/>
                This can be changed by right clicking the keyframe and using <i>Edit time</i><br/>
                Note that change affects <i>all</i> following frames in the way that only display duration of frame that is before current one is changed.<br/>
            </li>

            <li>
                Frame can be loaded from an mesh file, as long as the mesh has same faces and same vertex count.<br/>
                This allows you to save the current frame, and later load it.<br/>
                To do so, use <i>Load from file</i> righ click menu.
            </li>

            <li>
                Lastly if you stop animation in the middle, you can convert the interpolated frame to a keyframe by pressing <i>Convert to keyframe</i> button.
            </li>

            </ol>

           <video width="70%" controls>
            <source src="tutorial/tut3.mp4" type="video/mp4"/>
            </video> <br/></br>


            <h1> Animations </h1>

            Finally you can preview animations and save the output to a video file, a project file, etc etc.


            <ol>

            <li>
                Dragging the slider creates interpolated frame according to its new position.<br/>
                You can see the current time in the side bar.
            </li>

            <li>
                As said earlier at any time you can convert an interpolated frame to a new keyframe.<br/>
                Unless you do so however, the interpolated frame can't be edited.<br/>
                You can only zoom and move it as usual.<br/>
            </li>

            <li>
                Play/Loop/Rewind buttons do their usual thing to play back the animation on the screen.<br/>
                While the animation is running, the Play button changes to the Pause button
            </li>

            </ol>

            While the interpolated frame is visible, three debug features are shown in the side panel:

            <ol>

            <li>
                <i>Show anchor edge</i>: shows the the edge that is selected to start mapping from.<br/>
                This is because, due to the nature of BDMORPH algorthm, the solution
                is only known up to the movement,scale and rotation.<br/>
                So one of the edges is chosen to be lineary interpolated between keyframes and rest, according to
                solution.<br/>
                In next version, you will have ability to choose it, and have smarter way to choose it automatically
            </li>

            <li>
                <i>Show starting model</i>: overlays wireframe of the first keyframe from pair of keyframes used to create the interpolated frame over it.
            </li>

            <li>
                <i>Target FPS</i>: changes the FPS, the animation algorithm tries to acheeve. Moslty amusement feature if you set it low.
            </li>

            </ol>

           <video width="70%" controls>
            <source src="tutorial/tut4.mp4" type="video/mp4"/>
            </video> <br/></br>


            <h1>Wrapping it up </h1>

            At any moment you can save output in varity of ways:

            <ol>
            <li>
                <u>Save current mesh to file:</u> Choose <i>Save</i> and set the output file name to <i>name</i>.obj
            </li>

            <li>
                <u>Save video project:</u> Choose <i>Save</i> and set the output file name to <i>name</i>.vproject<br/>
                In this case all the keyframes, pins, start times will be saved in this file, and you can later load it<br/>
                <b>WARNING:</b> the format of this file is subject to change.
            </li>


            <li>
                <u> Save screenshot</u>: Chooose 'save screenshot' from the menu
            </li>

            <li>
                <u> Create video file:</u> choose 'Export video' from the menu.<br/>
                    output is tested on mp4 and avi formats, in both cases H264 video codec is used, and video size is 1024x768<br/>
                    In future versions, more settings controlling the video output will be provided.<br/>
                    Note that due to a bug somewhere, the mp4 output doesn't play in some players
            </li>


            </ol>


           <video width="70%" controls>
            <source src="tutorial/tut5.mp4" type="video/mp4"/>
            </video> <br/></br>

            Note that everytime you import an mesh, outline or a video project, and a texture with same name exists in the folder, its loaded.
            This is why you see the garbage above, because it loads the screenshot as texture. 

        </section>
    </div>
    <footer>
        <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>

    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
</body>
</html>
